<ion-view title="Food">
  <ion-content id="food" class="has-header">
    <ul id="food-choices" class="list">
      <li class="item item-divider">
        <span>Foods available</span>
        <span id="macnut-header" class="macnuts">
          <span>Protein</span>
          <span>Fat</span>
          <span>Carbs</span>
        </span>
      </li>
      <li class="item item-button-left" ng-repeat="(name, details) in foodChoices">
        <span class="food-name">{{name}}</span>
        <span class="macnuts">
          <span>{{details.protein}}g</span>
          <span>{{details.fat}}g</span>
          <span>{{details.carbs}}g</span>
        </span>
        <button class="button ion-plus" ng-click="eatFood(name)">
      </li>
      <li class="item ion-plus-round" href="#/tab/food/new">
        <button class="button ion-plus" ng-click="showAddFoodModal()">
      </li>
    </ul>
    <ul id="food-eaten" class="list">
      <li id="food-eaten-header" class="item item-divider item-button-right">
        Food eaten today
        <button class="button ion-trash-a" ng-click="clearFood()">
      </li>
      <li class="item item-button-right" ng-repeat="(name, details) in foodEaten">
        <span class="food-name">{{details.servings}} {{name}}</span>
        <div class="buttons">
          <button class="button ion-plus" ng-click="addServing(name)">
          <button class="button ion-minus" ng-click="removeServing(name)">
        </div>
      </li>
    </ul>
  </ion-content>
</ion-view>

<script id="add-food-modal.html" type="text/ng-template">
  <ion-modal-view>
    <div class="bar bar-header bar-stable">
      <h1 class="title">Add food</h1>
    </div>
    <div id="add-food" class="list list-inset has-header">
      <label class="item item-input">
        <span class="input-label">Name</span>
        <input type="text" ng-model="newFood.name">
      </label>
      <label class="item range range-positive">
        <span class="input-label">Protein</span>
        <input class="range" type="range" name="volume" min="0" max="25" ng-model="newFood.protein">
        <span class="input-unit">{{newFood.protein}}g<span>
      </label>
      <label class="item range range-positive">
        <span class="input-label">Fat</span>
        <input class="range" type="range" name="volume" min="0" max="25" ng-model="newFood.fat">
        <span class="input-unit">{{newFood.fat}}g<span>
      </label>
      <label class="item range range-positive">
        <span class="input-label">Carbs</span>
        <input class="range" type="range" name="volume" min="0" max="25" ng-model="newFood.carbs">
        <span class="input-unit">{{newFood.carbs}}g<span>
      </label>
      <div class="button-bar modal-button-bar">
        <button class="button button-stable" ng-click="cancelAddFood()">
          Cancel
        </button>
        <button class="button button-positive" ng-click="storeFood()">
          Add
        </button>
      </div>
    </div>
  </ion-modal-view>
</script>

